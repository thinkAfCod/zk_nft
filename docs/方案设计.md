# <center> zk-NFT implemented with move contract

在此项目中，拟实现一个简单的zk-NFT,并在Sui链进行部署与测试。

原项目是用hardhat框架编写，在以太坊上进行测试。zkSNARK由circom+snarkjs实现，并将验证公钥导出为solidity合约。目前snarkjs工具暂不支持导出move合约，这也是本项目期望扩展的一个功能。

以下是原项目地址及相关工具的链接：

* [zk-NFT](https://github.com/kevinz917/zk-NFT)
* [circom](https://github.com/iden3/circom)
* [circomlib](https://github.com/iden3/circomlib)
* [snarkjs](https://github.com/iden3/snarkjs)


## zk-NFT

zk-NFT是一个由zkSNARKs驱动的NFT，它颠覆了NFT的概念。通常情况下，NFTs包含的元数据是完全公开的。在这里，zk-NFT允许用户创建和证明NFT的所有权，以及它们的特征/属性，而不需要透露全部的底层元数据。

这将允许在NFTs的基础上建立有趣的宇宙。例如，由NFT和它们的隐藏属性代表的两只宠物可以进行战斗，但通过ZK，可以以这样一种方式进行协调，即属性不被完全揭示，而只有战斗结果被揭示。此外，通过战争迷雾式的互动创造了不可见的动态交易。

## 示例场景

在这里，提出了一个涉及战争迷雾型出价的假设性游戏玩法。

假设Alice玩一个视频游戏（由zk-NFT驱动）。首先，游戏要求Alice创建她的角色（打上NFT的烙印）。该角色有三个属性：速度、敏捷和耐力，这些属性的总和不能超过10。

然后，Alice创建了她的角色，将这些属性对外保密（链外），并在链上提交了它的哈希值（提交zk证明）。几个小时后，许多其他玩家如Bob也创建了自己的独特角色。

随着游戏的进展，许多人已经意识到具有高速度和高耐力值的角色目前是很有用的，而Alice恰好有一个这样的角色。然而，由于信息被隐藏，其他人并不知道。看到她的角色是可取的，Alice决定卖掉它。

为了在市场上创造猜测和活动，Alice部分地透露（使用SNARKs）她的角色确实有一个超过7的速度属性，但没有透露确切的数据（现实中她应该能够透露任何证明的组合）。这引起了买家的兴趣，Bob决定出价1ETH。同时，Alice在没有透露整个NFT的情况下，保留了一些筹码和信息不对称性。

Alice看到Bob的出价是公平的，就接受了这个出价并出售了她的角色。当她接受出价时，她交出了角色的所有权，并且同时透露她的角色的所有三个属性。Bob非常高兴--他知道速度属性高于7，并高兴地发现它实际上是9，认为进行了一个不错的交易。Alice，也认为她得到了一个体面的交易，因为她的角色的其他属性，敏捷和耐力都很低（但她没有必要向Bob透露），她怀疑在未来，游戏会重视具有高敏捷属性的角色，所以她很高兴把它卖掉。她继续购买循环，试图购买其他未披露的角色......

## 基本功能

1. Minting. 用户首先为他们的NFT私下选择属性，并有一些约束。在这个原型中，这意味着为你的角色选择三个属性，并且属性的总和必须小于一个最大值。然后这些属性被储存在链外的一个浏览器缓存中。为了铸造NFT，需要提交铸造证明，其中包含属性的隐藏值(hash值)。

2. Revealing and Speculating. 交易是任何NFT生态系统的一个组成部分，但如果信息是隐藏的，人们将如何交易？在这里，我们使用一个部分揭示方案，允许用户首先揭示他们的NFT元数据的一部分，而不揭示整个方案，由zkSNARKs证明。例如，卖家A想向买家B证明他的NFT有一个大于5的 "速度 "属性，以鼓励购买，但不说明这个值是什么。这种部分揭示模式提供了必要的猜测，使买方和卖方参与到战争迷雾式的互动中。

3. Trading. 在这个版本的游戏中，当卖家接受竞价时，他们必须揭示其NFT的全部属性，有效地在链上广播。也有可能以链外方式交换隐藏的属性。目前正在探索更多的交易变化!


